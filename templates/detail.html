{% extends "base.html" %}
{% block title %}
    Recipe Details - Traditional Cuisine
{% endblock %}
{% block body %}
    {% include "header.html" %}

    <div class="uk-inline uk-width-1-1 uk-light">
        {% if recipe.picture %}
            <img src="{{ recipe.picture.url }}" class="uk-width-1-1">
        {% endif %}
        <div class="uk-position-center">
            <h1 style="font: 400 130px/0.8 'Cookie', Helvetica, sans-serif;"
                class="uk-margin-large-bottom">
                {{ recipe.name }}
            </h1>
        </div>
        <div class="uk-position-bottom uk-text-center uk-margin">
            <h3>
                {{ recipe.description }}
            </h3>
        </div>
        <div class="uk-position-bottom-left uk-margin-left">
            <h5>
                {% for location in recipe.location.all %}
                    <span class="uk-badge">{{ location.region }}, {{ location.country }}</span>
                {% endfor %}
            </h5>
        </div>
        <div class="uk-position-bottom-right uk-margin-right">
            <h5>
                Time required: <span class="uk-badge">{{ recipe.minutes }} minutes</span>
            </h5>
        </div>
    </div>


    <div class="uk-container uk-container-large uk-margin-bottom">
        <div class="uk-grid-small uk-grid-match uk-margin" data-uk-grid>
            <div class="uk-width-1-4">
                <div class="uk-card uk-card-default">
                    <div class="uk-card-header">
                        <h2 class="uk-card-title"><b>Ingredients</b></h2>
                    </div>
                    <div class="uk-card-body">
                        <ul>
                            {% for ingredient in recipe.ingredients.all %}
                                <li>{{ ingredient.name }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
            <div class="uk-width-3-4">
                <div class="uk-card uk-card-default">
                    <div class="uk-card-header">
                        <h2 class="uk-card-title"><b>Directions</b></h2>
                    </div>
                    <div class="uk-card-body">
                        <ul data-uk-accordion>
                            {% for step in steps %}
                                <li {% if step.order == 1 %}class="uk-open"{% endif %}>
                                    <h3 class="uk-accordion-title">
                                        Step {{ step.order }}
                                        {% if step.time %} ({{ step.time }} minutes){% endif %}
                                    </h3>
                                    <div class="uk-accordion-content">
                                        {% if step.picture %}
                                            <img src="{{ step.picture.url }}" class="uk-width-1-1">
                                        {% endif %}
                                        <p>{{ step.description }}</p>
                                    </div>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        {% if recipe.youtube %}
            <p><a href="{{ recipe.youtube }}">Youtube Video</a></p>
        {% endif %}

    </div>
{% endblock %}